<ion-view view-title="Maker" cache-view="false">
  <ion-content>
    <form class="form-horizontal" role="form" name="form.makerForm" ng-submit="submitTest()" novalidate>
      <div class="list">
        <label class="item item-input item-stacked-label" ng-class="{ 'has-error' : form.makerForm.title.$error.required && !form.makerForm.title.$pristine }">
          <span class="input-label">Título</span>
          <input type="text" id="title" name="title" placeholder="Escribe un Título" ng-model="cuest.title" required>
          <span ng-show="form.makerForm.title.$error.required && !form.makerForm.title.$pristine" class="assertive">*El titulo es necesario</span>
        </label>
        <label class="item item-input item-floating-label">
          <span class="input-label">Descripción</span>
          <input type="text" placeholder="Breve descripción" ng-model="cuest.text">
        </label>
        <label class="item item-input item-select">
          <span class="input-label" >Nº de preguntas</span>
          <select ng-model="number">
            <option ng-value="quest" ng-repeat="quest in quests">
              {{quest}}
            </option>
          </select>
        </label>
        <div class="list" ng-repeat="n in getNumber(number) track by $index">
          <label class="item item-input item-stacked-label" ng-class="{ 'has-error' : form.makerForm.question{{$index+1}}.$error.required && !form.makerForm.question{{$index+1}}.$pristine }">
          <span class="input-label" style="color:#003333">Pregunta {{$index+1}}</span>
          <input type="text" id="question{{$index+1}}" name="question{{$index+1}}" placeholder="Escribe la pregunta" ng-model="cuest.questions[$index].pregunta" required>
          <span ng-show="form.makerForm.question{{$index+1}}.$error.required && !form.makerForm.question{{$index+1}}.$pristine" class="assertive">*La pregunta es necesaria</span>
        </label>
          <label class="item item-input item-floating-label" ng-class="{ 'has-error' : form.makerForm.r1{{$index+1}}.$error.required && !form.makerForm.r1{{$index+1}}.$pristine }">
          <span class="input-label" style="color: teal">Respuesta 1</span>
          <input type="text" id="r1{{$index+1}}" name="r1{{$index+1}}" placeholder="Respuesta 1" ng-model="cuest.questions[$index].r1" required>
          <span ng-show="form.makerForm.r1{{$index+1}}.$error.required && !form.makerForm.r1{{$index+1}}.$pristine" class="assertive">*La respuesta es necesaria</span>
        </label>
          <label class="item item-input item-floating-label" ng-class="{ 'has-error' : form.makerForm.r2{{$index+1}}.$error.required && !form.makerForm.r2{{$index+1}}.$pristine }">
          <span class="input-label" style="color: teal">Respuesta 2</span>
          <input type="text" id="r2{{$index+1}}" name="r2{{$index+1}}" placeholder="Respuesta 2"  ng-model="cuest.questions[$index].r2" required>
          <span ng-show="form.makerForm.r2{{$index+1}}.$error.required && !form.makerForm.r2{{$index+1}}.$pristine" class="assertive">*La respuesta es necesaria</span>
        </label>
          <label class="item item-input item-floating-label" ng-class="{ 'has-error' : form.makerForm.r3{{$index+1}}.$error.required && !form.makerForm.r3{{$index+1}}.$pristine }">
          <span class="input-label" style="color: teal">Respuesta 3</span>
          <input type="text"  id="r3{{$index+1}}" name="r3{{$index+1}}" placeholder="Respuesta 3"  ng-model="cuest.questions[$index].r3" required>
          <span ng-show="form.makerForm.r3{{$index+1}}.$error.required && !form.makerForm.r3{{$index+1}}.$pristine" class="assertive">*La respuesta es necesaria</span>
        </label>
          <label class="item item-input item-floating-label" ng-class="{ 'has-error' : form.makerForm.r4{{$index+1}}.$error.required && !form.makerForm.r4{{$index+1}}.$pristine }">
          <span class="input-label" style="color: teal">Respuesta 4</span>
          <input type="text" id="r4{{$index+1}}" name="r4{{$index+1}}" placeholder="Respuesta 4"  ng-model="cuest.questions[$index].r4" required>
          <span ng-show="form.makerForm.r4{{$index+1}}.$error.required && !form.makerForm.r4{{$index+1}}.$pristine" class="assertive">*La respuesta es necesaria</span>
        </label>
          <div class="row">
            <div class="col" style="color:#003333"><br>Respuesta correcta</div>
            <div class="col col-75">
              <md-select placeholder="Respuesta correcta" ng-model="cuest.questions[$index].rcorrect" multiple required>
                <md-optgroup label="Correctas">
                  <md-option ng-value="cuest.questions[$index].r1">{{cuest.questions[$index].r1}}</md-option>
                  <md-option ng-value="cuest.questions[$index].r2">{{cuest.questions[$index].r2}}</md-option>
                  <md-option ng-value="cuest.questions[$index].r3">{{cuest.questions[$index].r3}}</md-option>
                  <md-option ng-value="cuest.questions[$index].r4">{{cuest.questions[$index].r4}}</md-option>
                </md-optgroup>
              </md-select>
            </div>
          </div>
        </div>
        <label class="item">
          <button class="button button-block nav-teal" ng-disabled="form.makerForm.$invalid">Crear </button>
        </label>
      </div>
    </form>
  </ion-content>
</ion-view>